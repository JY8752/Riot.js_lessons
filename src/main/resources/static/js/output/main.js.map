{"version":3,"sources":["../../../node_modules/riot/riot.esm.js","../../../node_modules/bianco.dom-to-array/index.next.js","../../../node_modules/bianco.query/index.next.js","../../../node_modules/@riotjs/hot-reload/index.js","../../../node_modules/animejs/lib/anime.es.js","app2.riot","main.js"],"names":["camelToDashCase","string","replace","toLowerCase","dashToCamelCase","_","c","toUpperCase","DOMattributesToObject","element","Array","from","attributes","reduce","acc","attribute","name","value","moveChildren","source","target","firstChild","appendChild","cleanNode","node","clearChildren","childNodes","children","forEach","removeNode","parentNode","remove","removeChild","EACH","IF","SIMPLE","TAG","SLOT","bindingTypes","ATTRIBUTE","EVENT","TEXT","VALUE","expressionTypes","createTemplateMeta","componentTemplate","fragment","dom","cloneNode","avoidDOMInjection","indexOf","slice","append","get","parent","start","end","before","isSelect","noSelection","child","insertBefore","selected","selectedIndex","call","querySelectorAll","eqeq","a","b","identity","O","indexOf$1","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","length","m","l","isReversed","futureNodes","futureEnd","currentNodes","currentStart","currentEnd","next","list","i","nextSibling","drop","DELETION","INSERTION","SKIP","SKIP_OND","HS","futureStart","futureChanges","currentChanges","k","minLen","link","tresh","nodes","index","idxInOld","findK","newi","oldi","prev","diff","ptr","OND","rows","cols","d","r","pv","cv","pd","v","outer","diffIdx","applyDiff","currentLength","live","currentIndex","push","ktr","j","lo","hi","mid","smartDiff","dropChild","domdiff","options","currentSame","futureSame","checkType","type","isSvg","el","owner","ownerSVGElement","isTemplate","isNil","content","isFunction","isBoolean","isObject","UNMOUNT_SCOPE","Symbol","EachBinding","Object","seal","mount","scope","parentScope","update","placeholder","childrenMap","collection","evaluate","items","createPatch","newChildrenMap","batches","patch","values","fn","unmount","redundant","item","info","pop","template","context","mustFilterItem","condition","Boolean","extendScope","_ref","itemName","indexName","binding","getKey","root","isTemplateTag","Map","create","key","oldItem","clone","mustMount","meta","delete","set","_ref2","document","createTextNode","assign","createDOM","IfBinding","pristine","mustUnmount","create$1","panic","message","Error","memoize","cache","cached","val","has","evaluateAttributeExpressions","REMOVE_ATTRIBUTE","SET_ATTIBUTE","ElementProto","Element","prototype","isNativeHtmlProperty","hasOwnProperty","setAllAttributes","entries","attributeExpression","removeAllAttributes","newAttributes","oldAttributes","newKeys","keys","filter","includes","removeAttribute","oldValue","getMethod","normalizeValue","RE_EVENTS_PREFIX","getCallbackAndOptions","isArray","EventListener","handleEvent","event","ListenersWeakMap","WeakMap","createListener","listener","eventExpression","normalizedEventName","eventListener","callback","handler","mustAddEvent","removeEventListener","addEventListener","normalizeStringValue","getTextNode","childNodeIndex","nodeType","Node","COMMENT_NODE","textNode","replaceChild","textExpression","data","valueExpression","expression","expressions","Expression","apply","create$2","flattenCollectionMethods","methods","method","map","create$3","COMPONENTS_IMPLEMENTATION_MAP","DOM_COMPONENT_INSTANCE_PROPERTY","PLUGINS_SET","Set","IS_DIRECTIVE","VALUE_ATTRIBUTE","MOUNT_METHOD_KEY","UPDATE_METHOD_KEY","UNMOUNT_METHOD_KEY","SHOULD_UPDATE_KEY","ON_BEFORE_MOUNT_KEY","ON_MOUNTED_KEY","ON_BEFORE_UPDATE_KEY","ON_UPDATED_KEY","ON_BEFORE_UNMOUNT_KEY","ON_UNMOUNTED_KEY","PROPS_KEY","STATE_KEY","SLOTS_KEY","ROOT_KEY","IS_PURE_SYMBOL","for","PARENT_KEY_SYMBOL","ATTRIBUTES_KEY_SYMBOL","TEMPLATE_KEY_SYMBOL","globals","freeze","__proto__","extendParentScope","attr","getRealParent","undefined","SlotBinding","getTemplateScope","templateData","slots","find","id","realParent","create$6","html","bindings","moveSlotInnerContent","mustRemoveRoot","slot","createSlot","getTag","component","slotsToMarkup","slotBindings","concat","TagBinding","tag","getComponent","keepRootTag","create$4","fixTextExpressionsOffset","textExpressionsOffset","e","create$5","templateTagOffset","selector","redundantAttribute","querySelector","bindingExpressions","createHTMLTree","createElement","innerHTML","createSVGTree","container","svgNode","ownerDocument","importNode","window","DOMParser","parseFromString","documentElement","createDOMTree","injectDOM","createTemplateDOM","TemplateChunk","Math","max","bindingsData","DOMBindings","createBinding","createExpression","noop","autobindMethods","bind","callOrAssign","constructor","defineProperty","enumerable","writable","configurable","defineProperties","properties","defineDefaults","defaults","domToArray","els","test","toString","$","ctx","normalize","parseNodes","names","n","attrs","props","prop","setAttribute","CSS_BY_NAME","STYLE_NODE_SELECTOR","getStyleNode","style","head","cssManager","add","css","inject","join","curry","_len","arguments","_key","_len2","args","_key2","getName","tagName","COMPONENT_CORE_HELPERS","$$","PURE_COMPONENT_API","COMPONENT_LIFECYCLE_METHODS","MOCKED_TEMPLATE_INTERFACE","evaluateInitialProps","initialProps","bindDOMNodeToComponentObject","createCoreAPIMethods","mapFunction","componentTemplateFactory","components","createPureComponent","pureFactoryFunction","createComponent","exports","templateFn","createSubcomponents","_ref3","componentAPI","defineComponent","state","preserveRoot","_ref4","enhanceComponentAPI","createAttributeBindings","_ref5","runPlugins","computeState","oldState","newState","addCssHook","_ref6","newProps","mountComponent","componentName","compose","fns","f","g","DOM_COMPONENT_INSTANCE_PROPERTY$1","COMPONENTS_IMPLEMENTATION_MAP$1","PLUGINS_SET$1","register","unregister","keepRootElement","install","plugin","uninstall","implementation","_temp","pure","func","version","__","anime","defaultInstanceSettings","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","CSS","springs","minMax","min","stringContains","str","text","applyArguments","is","arr","obj","pth","svg","SVGElement","inp","HTMLInputElement","fnc","und","hex","rgb","hsl","col","parseEasingParameters","match","exec","split","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","t","progress","exp","cos","sin","getDuration","frame","elapsed","rest","steps","ceil","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","x","getTForX","aX","currentSample","intervalStart","lastSample","dist","guessForT","initialSlope","newtonRaphsonIterate","aGuessT","currentSlope","binarySubdivide","aA","aB","currentX","currentT","abs","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","easeIn","parseEasings","ease","selectString","filterArray","len","thisArg","result","flattenArray","toArray","o","NodeList","HTMLCollection","arrayContains","some","cloneObject","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","parseInt","hslToRgba","hslValue","h","s","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","total","getAttribute","convertPxToUnit","unit","baseline","tempEl","parentEl","body","position","width","factor","offsetWidth","convertedUnit","getCSSValue","uppercasePropName","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","getTransformValue","defaultVal","getOriginalTargetValue","getRelativeValue","to","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","previousPos","totalLength","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","getPath","path","percent","property","getPathProgress","point","offset","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","propArray","flattenKeyframes","keyframes","propertyNames","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","isPath","isColor","setProgressValue","object","manual","last","setTargetsValue","valueUnit","animType","createAnimation","lastTween","getAnimations","animatables","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","raf","activeInstances","pausedInstances","engine","play","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","instanceIndex","splice","tick","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","running","startTime","lastTime","now","childrenLength","resolve","makePromise","instance","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","syncInstanceChildren","i$1","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reset","reverse","restart","removeTargetsFromAnimations","targetsArray","removeTargets","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","maxValue","fromX","fromY","floor","distanceX","distanceY","timeline","tl","instanceParams","tlIndex","insParams","tlDuration","convertPx","random","uid","onBeforeMount","onMounted","translateX","reload","location","expand","scale","expandAll","title","App","getElementById"],"mappings":"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","file":"main.js","sourceRoot":"../../../../js","sourcesContent":["/* Riot v4.13.5, @license MIT */\n/**\n * Convert a string from camel case to dash-case\n * @param   {string} string - probably a component tag name\n * @returns {string} component name normalized\n */\nfunction camelToDashCase(string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n/**\n * Convert a string containing dashes to camel case\n * @param   {string} string - input string\n * @returns {string} my-string -> myString\n */\n\nfunction dashToCamelCase(string) {\n  return string.replace(/-(\\w)/g, (_, c) => c.toUpperCase());\n}\n\n/**\n * Get all the element attributes as object\n * @param   {HTMLElement} element - DOM node we want to parse\n * @returns {Object} all the attributes found as a key value pairs\n */\n\nfunction DOMattributesToObject(element) {\n  return Array.from(element.attributes).reduce((acc, attribute) => {\n    acc[dashToCamelCase(attribute.name)] = attribute.value;\n    return acc;\n  }, {});\n}\n/**\n * Move all the child nodes from a source tag to another\n * @param   {HTMLElement} source - source node\n * @param   {HTMLElement} target - target node\n * @returns {undefined} it's a void method ¯\\_(ツ)_/¯\n */\n// Ignore this helper because it's needed only for svg tags\n\nfunction moveChildren(source, target) {\n  if (source.firstChild) {\n    target.appendChild(source.firstChild);\n    moveChildren(source, target);\n  }\n}\n/**\n * Remove the child nodes from any DOM node\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\n\nfunction cleanNode(node) {\n  clearChildren(node.childNodes);\n}\n/**\n * Clear multiple children in a node\n * @param   {HTMLElement[]} children - direct children nodes\n * @returns {undefined}\n */\n\nfunction clearChildren(children) {\n  Array.from(children).forEach(removeNode);\n}\n/**\n * Remove a node from the DOM\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\n\nfunction removeNode(node) {\n  const {\n    parentNode\n  } = node;\n  if (node.remove) node.remove();\n  /* istanbul ignore else */\n  else if (parentNode) parentNode.removeChild(node);\n}\n\nconst EACH = 0;\nconst IF = 1;\nconst SIMPLE = 2;\nconst TAG = 3;\nconst SLOT = 4;\nvar bindingTypes = {\n  EACH,\n  IF,\n  SIMPLE,\n  TAG,\n  SLOT\n};\n\nconst ATTRIBUTE = 0;\nconst EVENT = 1;\nconst TEXT = 2;\nconst VALUE = 3;\nvar expressionTypes = {\n  ATTRIBUTE,\n  EVENT,\n  TEXT,\n  VALUE\n};\n\n/**\n * Create the template meta object in case of <template> fragments\n * @param   {TemplateChunk} componentTemplate - template chunk object\n * @returns {Object} the meta property that will be passed to the mount function of the TemplateChunk\n */\nfunction createTemplateMeta(componentTemplate) {\n  const fragment = componentTemplate.dom.cloneNode(true);\n  return {\n    avoidDOMInjection: true,\n    fragment,\n    children: Array.from(fragment.childNodes)\n  };\n}\n\nconst {\n  indexOf,\n  slice\n} = [];\n\nconst append = (get, parent, children, start, end, before) => {\n  const isSelect = ('selectedIndex' in parent);\n  let noSelection = isSelect;\n\n  while (start < end) {\n    const child = get(children[start], 1);\n    parent.insertBefore(child, before);\n\n    if (isSelect && noSelection && child.selected) {\n      noSelection = !noSelection;\n      let {\n        selectedIndex\n      } = parent;\n      parent.selectedIndex = selectedIndex < 0 ? start : indexOf.call(parent.querySelectorAll('option'), child);\n    }\n\n    start++;\n  }\n};\nconst eqeq = (a, b) => a == b;\nconst identity = O => O;\nconst indexOf$1 = (moreNodes, moreStart, moreEnd, lessNodes, lessStart, lessEnd, compare) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n\n  if (length < 1) return -1;\n\n  while (moreEnd - moreStart >= length) {\n    let m = moreStart;\n    let l = lessStart;\n\n    while (m < moreEnd && l < lessEnd && compare(moreNodes[m], lessNodes[l])) {\n      m++;\n      l++;\n    }\n\n    if (l === lessEnd) return moreStart;\n    moreStart = m + 1;\n  }\n\n  return -1;\n};\nconst isReversed = (futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare) => {\n  while (currentStart < currentEnd && compare(currentNodes[currentStart], futureNodes[futureEnd - 1])) {\n    currentStart++;\n    futureEnd--;\n  }\n  return futureEnd === 0;\n};\nconst next = (get, list, i, length, before) => i < length ? get(list[i], 0) : 0 < i ? get(list[i - 1], -0).nextSibling : before;\nconst remove = (get, children, start, end) => {\n  while (start < end) drop(get(children[start++], -1));\n}; // - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges) => {\n  let k = 0;\n  /* istanbul ignore next */\n\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++) tresh[i] = currentEnd;\n\n  const nodes = currentNodes.slice(currentStart, currentEnd);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const index = nodes.indexOf(futureNodes[i]);\n\n    if (-1 < index) {\n      const idxInOld = index + currentStart;\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n\n  while (ptr) {\n    const {\n      newi,\n      oldi\n    } = ptr;\n\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n\n  return diff;\n}; // this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\n\n\nconst OND = (futureNodes, futureStart, rows, currentNodes, currentStart, cols, compare) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND) return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n\n      r = c - k;\n\n      while (c < cols && r < rows && compare(currentNodes[currentStart + c], futureNodes[futureStart + r])) {\n        c++;\n        r++;\n      }\n\n      if (c === cols && r === rows) {\n        break outer;\n      }\n\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n\n  for (d = v.length - 1; d >= 0; d--) {\n    while (c > 0 && r > 0 && compare(currentNodes[currentStart + c - 1], futureNodes[futureStart + r - 1])) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n\n    if (!d) break;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n\n    if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n\n  return diff;\n};\n\nconst applyDiff = (diff, get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before) => {\n  const live = [];\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.push(futureNodes[futureStart]);\n        append(get, parentNode, futureNodes, futureStart++, futureStart, currentIndex < currentLength ? get(currentNodes[currentIndex], 0) : before);\n        break;\n\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n\n  i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (-1 < live.indexOf(currentNodes[currentStart])) currentStart++;else remove(get, currentNodes, currentStart++, currentStart);\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n\n  while (lo < hi) {\n    const mid = (lo + hi) / 2 >>> 0;\n    if (j < ktr[mid]) hi = mid;else lo = mid + 1;\n  }\n\n  return lo;\n};\n\nconst smartDiff = (get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before) => {\n  applyDiff(OND(futureNodes, futureStart, futureChanges, currentNodes, currentStart, currentChanges, compare) || HS(futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges), get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before);\n};\n\nconst drop = node => (node.remove || dropChild).call(node);\n\nfunction dropChild() {\n  const {\n    parentNode\n  } = this;\n  /* istanbul ignore else */\n\n  if (parentNode) parentNode.removeChild(this);\n}\n\n/*! (c) 2018 Andrea Giammarchi (ISC) */\n\nconst domdiff = (parentNode, // where changes happen\ncurrentNodes, // Array of current items/nodes\nfutureNodes, // Array of future items/nodes\noptions // optional object with one of the following properties\n//  before: domNode\n//  compare(generic, generic) => true if same generic\n//  node(generic) => Node\n) => {\n  if (!options) options = {};\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n  let futureEnd = futureNodes.length;\n  let futureStart = 0; // common prefix\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentStart], futureNodes[futureStart])) {\n    currentStart++;\n    futureStart++;\n  } // common suffix\n\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd; // same list\n\n  if (currentSame && futureSame) return futureNodes; // only stuff to add\n\n  if (currentSame && futureStart < futureEnd) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentStart, currentLength, before));\n    return futureNodes;\n  } // only stuff to remove\n\n\n  if (futureSame && currentStart < currentEnd) {\n    remove(get, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1; // 2 simple indels: the shortest sequence is a subsequence of the longest\n\n  if (currentChanges < futureChanges) {\n    i = indexOf$1(futureNodes, futureStart, futureEnd, currentNodes, currentStart, currentEnd, compare); // inner diff\n\n    if (-1 < i) {\n      append(get, parentNode, futureNodes, futureStart, i, get(currentNodes[currentStart], 0));\n      append(get, parentNode, futureNodes, i + currentChanges, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n      i = indexOf$1(currentNodes, currentStart, currentEnd, futureNodes, futureStart, futureEnd, compare); // outer diff\n\n      if (-1 < i) {\n        remove(get, currentNodes, currentStart, i);\n        remove(get, currentNodes, i + futureChanges, currentEnd);\n        return futureNodes;\n      }\n    } // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n\n  /* istanbul ignore else */\n\n\n  if (currentChanges < 2 || futureChanges < 2) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, get(currentNodes[currentStart], 0));\n    remove(get, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  } // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n\n\n  if (currentChanges === futureChanges && isReversed(futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare)) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n    return futureNodes;\n  } // last resort through a smart diff\n\n\n  smartDiff(get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before);\n  return futureNodes;\n};\n\n/**\n * Quick type checking\n * @param   {*} element - anything\n * @param   {string} type - type definition\n * @returns {boolean} true if the type corresponds\n */\nfunction checkType(element, type) {\n  return typeof element === type;\n}\n/**\n * Check if an element is part of an svg\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if we are in an svg context\n */\n\nfunction isSvg(el) {\n  const owner = el.ownerSVGElement;\n  return !!owner || owner === null;\n}\n/**\n * Check if an element is a template tag\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if it's a <template>\n */\n\nfunction isTemplate(el) {\n  return !isNil(el.content);\n}\n/**\n * Check that will be passed if its argument is a function\n * @param   {*} value - value to check\n * @returns {boolean} - true if the value is a function\n */\n\nfunction isFunction(value) {\n  return checkType(value, 'function');\n}\n/**\n * Check if a value is a Boolean\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is a boolean\n */\n\nfunction isBoolean(value) {\n  return checkType(value, 'boolean');\n}\n/**\n * Check if a value is an Object\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is an object\n */\n\nfunction isObject(value) {\n  return !isNil(value) && checkType(value, 'object');\n}\n/**\n * Check if a value is null or undefined\n * @param   {*}  value - anything\n * @returns {boolean} true only for the 'undefined' and 'null' types\n */\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nconst UNMOUNT_SCOPE = Symbol('unmount');\nconst EachBinding = Object.seal({\n  // dynamic binding properties\n  // childrenMap: null,\n  // node: null,\n  // root: null,\n  // condition: null,\n  // evaluate: null,\n  // template: null,\n  // isTemplateTag: false,\n  nodes: [],\n\n  // getKey: null,\n  // indexName: null,\n  // itemName: null,\n  // afterPlaceholder: null,\n  // placeholder: null,\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const {\n      placeholder,\n      nodes,\n      childrenMap\n    } = this;\n    const collection = scope === UNMOUNT_SCOPE ? null : this.evaluate(scope);\n    const items = collection ? Array.from(collection) : [];\n    const parent = placeholder.parentNode; // prepare the diffing\n\n    const {\n      newChildrenMap,\n      batches,\n      futureNodes\n    } = createPatch(items, scope, parentScope, this); // patch the DOM only if there are new nodes\n\n    domdiff(parent, nodes, futureNodes, {\n      before: placeholder,\n      node: patch(Array.from(childrenMap.values()), parentScope)\n    }); // trigger the mounts and the updates\n\n    batches.forEach(fn => fn()); // update the children map\n\n    this.childrenMap = newChildrenMap;\n    this.nodes = futureNodes;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.update(UNMOUNT_SCOPE, parentScope);\n    return this;\n  }\n\n});\n/**\n * Patch the DOM while diffing\n * @param   {TemplateChunk[]} redundant - redundant tepmplate chunks\n * @param   {*} parentScope - scope of the parent template\n * @returns {Function} patch function used by domdiff\n */\n\nfunction patch(redundant, parentScope) {\n  return (item, info) => {\n    if (info < 0) {\n      const element = redundant.pop();\n\n      if (element) {\n        const {\n          template,\n          context\n        } = element; // notice that we pass null as last argument because\n        // the root node and its children will be removed by domdiff\n\n        template.unmount(context, parentScope, null);\n      }\n    }\n\n    return item;\n  };\n}\n/**\n * Check whether a template must be filtered from a loop\n * @param   {Function} condition - filter function\n * @param   {Object} context - argument passed to the filter function\n * @returns {boolean} true if this item should be skipped\n */\n\n\nfunction mustFilterItem(condition, context) {\n  return condition ? Boolean(condition(context)) === false : false;\n}\n/**\n * Extend the scope of the looped template\n * @param   {Object} scope - current template scope\n * @param   {string} options.itemName - key to identify the looped item in the new context\n * @param   {string} options.indexName - key to identify the index of the looped item\n * @param   {number} options.index - current index\n * @param   {*} options.item - collection item looped\n * @returns {Object} enhanced scope object\n */\n\n\nfunction extendScope(scope, _ref) {\n  let {\n    itemName,\n    indexName,\n    index,\n    item\n  } = _ref;\n  scope[itemName] = item;\n  if (indexName) scope[indexName] = index;\n  return scope;\n}\n/**\n * Loop the current template items\n * @param   {Array} items - expression collection value\n * @param   {*} scope - template scope\n * @param   {*} parentScope - scope of the parent template\n * @param   {EeachBinding} binding - each binding object instance\n * @returns {Object} data\n * @returns {Map} data.newChildrenMap - a Map containing the new children template structure\n * @returns {Array} data.batches - array containing the template lifecycle functions to trigger\n * @returns {Array} data.futureNodes - array containing the nodes we need to diff\n */\n\n\nfunction createPatch(items, scope, parentScope, binding) {\n  const {\n    condition,\n    template,\n    childrenMap,\n    itemName,\n    getKey,\n    indexName,\n    root,\n    isTemplateTag\n  } = binding;\n  const newChildrenMap = new Map();\n  const batches = [];\n  const futureNodes = [];\n  items.forEach((item, index) => {\n    const context = extendScope(Object.create(scope), {\n      itemName,\n      indexName,\n      index,\n      item\n    });\n    const key = getKey ? getKey(context) : index;\n    const oldItem = childrenMap.get(key);\n\n    if (mustFilterItem(condition, context)) {\n      return;\n    }\n\n    const componentTemplate = oldItem ? oldItem.template : template.clone();\n    const el = oldItem ? componentTemplate.el : root.cloneNode();\n    const mustMount = !oldItem;\n    const meta = isTemplateTag && mustMount ? createTemplateMeta(componentTemplate) : {};\n\n    if (mustMount) {\n      batches.push(() => componentTemplate.mount(el, context, parentScope, meta));\n    } else {\n      batches.push(() => componentTemplate.update(context, parentScope));\n    } // create the collection of nodes to update or to add\n    // in case of template tags we need to add all its children nodes\n\n\n    if (isTemplateTag) {\n      const children = meta.children || componentTemplate.children;\n      futureNodes.push(...children);\n    } else {\n      futureNodes.push(el);\n    } // delete the old item from the children map\n\n\n    childrenMap.delete(key); // update the children map\n\n    newChildrenMap.set(key, {\n      template: componentTemplate,\n      context,\n      index\n    });\n  });\n  return {\n    newChildrenMap,\n    batches,\n    futureNodes\n  };\n}\n\nfunction create(node, _ref2) {\n  let {\n    evaluate,\n    condition,\n    itemName,\n    indexName,\n    getKey,\n    template\n  } = _ref2;\n  const placeholder = document.createTextNode('');\n  const parent = node.parentNode;\n  const root = node.cloneNode();\n  parent.insertBefore(placeholder, node);\n  removeNode(node);\n  return Object.assign({}, EachBinding, {\n    childrenMap: new Map(),\n    node,\n    root,\n    condition,\n    evaluate,\n    isTemplateTag: isTemplate(root),\n    template: template.createDOM(node),\n    getKey,\n    indexName,\n    itemName,\n    placeholder\n  });\n}\n\n/**\n * Binding responsible for the `if` directive\n */\n\nconst IfBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // isTemplateTag: false,\n  // placeholder: null,\n  // template: null,\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const value = !!this.evaluate(scope);\n    const mustMount = !this.value && value;\n    const mustUnmount = this.value && !value;\n\n    const mount = () => {\n      const pristine = this.node.cloneNode();\n      this.placeholder.parentNode.insertBefore(pristine, this.placeholder);\n      this.template = this.template.clone();\n      this.template.mount(pristine, scope, parentScope);\n    };\n\n    switch (true) {\n      case mustMount:\n        mount();\n        break;\n\n      case mustUnmount:\n        this.unmount(scope);\n        break;\n\n      default:\n        if (value) this.template.update(scope, parentScope);\n    }\n\n    this.value = value;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.template.unmount(scope, parentScope, true);\n    return this;\n  }\n\n});\nfunction create$1(node, _ref) {\n  let {\n    evaluate,\n    template\n  } = _ref;\n  const parent = node.parentNode;\n  const placeholder = document.createTextNode('');\n  parent.insertBefore(placeholder, node);\n  removeNode(node);\n  return Object.assign({}, IfBinding, {\n    node,\n    evaluate,\n    placeholder,\n    template: template.createDOM(node)\n  });\n}\n\n/**\n * Throw an error with a descriptive message\n * @param   { string } message - error message\n * @returns { undefined } hoppla.. at this point the program should stop working\n */\n\nfunction panic(message) {\n  throw new Error(message);\n}\n/**\n * Returns the memoized (cached) function.\n * // borrowed from https://www.30secondsofcode.org/js/s/memoize\n * @param {Function} fn - function to memoize\n * @returns {Function} memoize function\n */\n\nfunction memoize(fn) {\n  const cache = new Map();\n\n  const cached = val => {\n    return cache.has(val) ? cache.get(val) : cache.set(val, fn.call(this, val)) && cache.get(val);\n  };\n\n  cached.cache = cache;\n  return cached;\n}\n/**\n * Evaluate a list of attribute expressions\n * @param   {Array} attributes - attribute expressions generated by the riot compiler\n * @returns {Object} key value pairs with the result of the computation\n */\n\nfunction evaluateAttributeExpressions(attributes) {\n  return attributes.reduce((acc, attribute) => {\n    const {\n      value,\n      type\n    } = attribute;\n\n    switch (true) {\n      // spread attribute\n      case !attribute.name && type === ATTRIBUTE:\n        return Object.assign({}, acc, value);\n      // value attribute\n\n      case type === VALUE:\n        acc.value = attribute.value;\n        break;\n      // normal attributes\n\n      default:\n        acc[dashToCamelCase(attribute.name)] = attribute.value;\n    }\n\n    return acc;\n  }, {});\n}\n\nconst REMOVE_ATTRIBUTE = 'removeAttribute';\nconst SET_ATTIBUTE = 'setAttribute';\nconst ElementProto = typeof Element === 'undefined' ? {} : Element.prototype;\nconst isNativeHtmlProperty = memoize(name => ElementProto.hasOwnProperty(name)); // eslint-disable-line\n\n/**\n * Add all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} attributes - object containing the attributes names and values\n * @returns {undefined} sorry it's a void function :(\n */\n\nfunction setAllAttributes(node, attributes) {\n  Object.entries(attributes).forEach((_ref) => {\n    let [name, value] = _ref;\n    return attributeExpression(node, {\n      name\n    }, value);\n  });\n}\n/**\n * Remove all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} newAttributes - object containing all the new attribute names\n * @param   {Object} oldAttributes - object containing all the old attribute names\n * @returns {undefined} sorry it's a void function :(\n */\n\n\nfunction removeAllAttributes(node, newAttributes, oldAttributes) {\n  const newKeys = newAttributes ? Object.keys(newAttributes) : [];\n  Object.keys(oldAttributes).filter(name => !newKeys.includes(name)).forEach(attribute => node.removeAttribute(attribute));\n}\n/**\n * This methods handles the DOM attributes updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - attribute name\n * @param   {*} value - new expression value\n * @param   {*} oldValue - the old expression cached value\n * @returns {undefined}\n */\n\n\nfunction attributeExpression(node, _ref2, value, oldValue) {\n  let {\n    name\n  } = _ref2;\n\n  // is it a spread operator? {...attributes}\n  if (!name) {\n    if (oldValue) {\n      // remove all the old attributes\n      removeAllAttributes(node, value, oldValue);\n    } // is the value still truthy?\n\n\n    if (value) {\n      setAllAttributes(node, value);\n    }\n\n    return;\n  } // handle boolean attributes\n\n\n  if (!isNativeHtmlProperty(name) && (isBoolean(value) || isObject(value) || isFunction(value))) {\n    node[name] = value;\n  }\n\n  node[getMethod(value)](name, normalizeValue(name, value));\n}\n/**\n * Get the attribute modifier method\n * @param   {*} value - if truthy we return `setAttribute` othewise `removeAttribute`\n * @returns {string} the node attribute modifier method name\n */\n\nfunction getMethod(value) {\n  return isNil(value) || value === false || value === '' || isObject(value) || isFunction(value) ? REMOVE_ATTRIBUTE : SET_ATTIBUTE;\n}\n/**\n * Get the value as string\n * @param   {string} name - attribute name\n * @param   {*} value - user input value\n * @returns {string} input value as string\n */\n\n\nfunction normalizeValue(name, value) {\n  // be sure that expressions like selected={ true } will be always rendered as selected='selected'\n  if (value === true) return name;\n  return value;\n}\n\nconst RE_EVENTS_PREFIX = /^on/;\n\nconst getCallbackAndOptions = value => Array.isArray(value) ? value : [value, false]; // see also https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\n\n\nconst EventListener = {\n  handleEvent(event) {\n    this[event.type](event);\n  }\n\n};\nconst ListenersWeakMap = new WeakMap();\n\nconst createListener = node => {\n  const listener = Object.create(EventListener);\n  ListenersWeakMap.set(node, listener);\n  return listener;\n};\n/**\n * Set a new event listener\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - event name\n * @param   {*} value - new expression value\n * @returns {value} the callback just received\n */\n\n\nfunction eventExpression(node, _ref, value) {\n  let {\n    name\n  } = _ref;\n  const normalizedEventName = name.replace(RE_EVENTS_PREFIX, '');\n  const eventListener = ListenersWeakMap.get(node) || createListener(node);\n  const [callback, options] = getCallbackAndOptions(value);\n  const handler = eventListener[normalizedEventName];\n  const mustRemoveEvent = handler && !callback;\n  const mustAddEvent = callback && !handler;\n\n  if (mustRemoveEvent) {\n    node.removeEventListener(normalizedEventName, eventListener);\n  }\n\n  if (mustAddEvent) {\n    node.addEventListener(normalizedEventName, eventListener, options);\n  }\n\n  eventListener[normalizedEventName] = callback;\n}\n\n/**\n * Normalize the user value in order to render a empty string in case of falsy values\n * @param   {*} value - user input value\n * @returns {string} hopefully a string\n */\n\nfunction normalizeStringValue(value) {\n  return isNil(value) ? '' : value;\n}\n\n/**\n * Get the the target text node to update or create one from of a comment node\n * @param   {HTMLElement} node - any html element containing childNodes\n * @param   {number} childNodeIndex - index of the text node in the childNodes list\n * @returns {HTMLTextNode} the text node to update\n */\n\nconst getTextNode = (node, childNodeIndex) => {\n  const target = node.childNodes[childNodeIndex];\n\n  if (target.nodeType === Node.COMMENT_NODE) {\n    const textNode = document.createTextNode('');\n    node.replaceChild(textNode, target);\n    return textNode;\n  }\n\n  return target;\n};\n/**\n * This methods handles a simple text expression update\n * @param   {HTMLElement} node - target node\n * @param   {Object} data - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\nfunction textExpression(node, data, value) {\n  node.data = normalizeStringValue(value);\n}\n\n/**\n * This methods handles the input fileds value updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\nfunction valueExpression(node, expression, value) {\n  node.value = normalizeStringValue(value);\n}\n\nvar expressions = {\n  [ATTRIBUTE]: attributeExpression,\n  [EVENT]: eventExpression,\n  [TEXT]: textExpression,\n  [VALUE]: valueExpression\n};\n\nconst Expression = Object.seal({\n  // Static props\n  // node: null,\n  // value: null,\n  // API methods\n\n  /**\n   * Mount the expression evaluating its initial value\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  mount(scope) {\n    // hopefully a pure function\n    this.value = this.evaluate(scope); // IO() DOM updates\n\n    apply(this, this.value);\n    return this;\n  },\n\n  /**\n   * Update the expression if its value changed\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  update(scope) {\n    // pure function\n    const value = this.evaluate(scope);\n\n    if (this.value !== value) {\n      // IO() DOM updates\n      apply(this, value);\n      this.value = value;\n    }\n\n    return this;\n  },\n\n  /**\n   * Expression teardown method\n   * @returns {Expression} self\n   */\n  unmount() {\n    // unmount only the event handling expressions\n    if (this.type === EVENT) apply(this, null);\n    return this;\n  }\n\n});\n/**\n * IO() function to handle the DOM updates\n * @param {Expression} expression - expression object\n * @param {*} value - current expression value\n * @returns {undefined}\n */\n\nfunction apply(expression, value) {\n  return expressions[expression.type](expression.node, expression, value, expression.value);\n}\n\nfunction create$2(node, data) {\n  return Object.assign({}, Expression, data, {\n    node: data.type === TEXT ? getTextNode(node, data.childNodeIndex) : node\n  });\n}\n\n/**\n * Create a flat object having as keys a list of methods that if dispatched will propagate\n * on the whole collection\n * @param   {Array} collection - collection to iterate\n * @param   {Array<string>} methods - methods to execute on each item of the collection\n * @param   {*} context - context returned by the new methods created\n * @returns {Object} a new object to simplify the the nested methods dispatching\n */\nfunction flattenCollectionMethods(collection, methods, context) {\n  return methods.reduce((acc, method) => {\n    return Object.assign({}, acc, {\n      [method]: scope => {\n        return collection.map(item => item[method](scope)) && context;\n      }\n    });\n  }, {});\n}\n\nfunction create$3(node, _ref) {\n  let {\n    expressions\n  } = _ref;\n  return Object.assign({}, flattenCollectionMethods(expressions.map(expression => create$2(node, expression)), ['mount', 'update', 'unmount']));\n}\n\n// Riot.js constants that can be used accross more modules\nconst COMPONENTS_IMPLEMENTATION_MAP = new Map(),\n      DOM_COMPONENT_INSTANCE_PROPERTY = Symbol('riot-component'),\n      PLUGINS_SET = new Set(),\n      IS_DIRECTIVE = 'is',\n      VALUE_ATTRIBUTE = 'value',\n      MOUNT_METHOD_KEY = 'mount',\n      UPDATE_METHOD_KEY = 'update',\n      UNMOUNT_METHOD_KEY = 'unmount',\n      SHOULD_UPDATE_KEY = 'shouldUpdate',\n      ON_BEFORE_MOUNT_KEY = 'onBeforeMount',\n      ON_MOUNTED_KEY = 'onMounted',\n      ON_BEFORE_UPDATE_KEY = 'onBeforeUpdate',\n      ON_UPDATED_KEY = 'onUpdated',\n      ON_BEFORE_UNMOUNT_KEY = 'onBeforeUnmount',\n      ON_UNMOUNTED_KEY = 'onUnmounted',\n      PROPS_KEY = 'props',\n      STATE_KEY = 'state',\n      SLOTS_KEY = 'slots',\n      ROOT_KEY = 'root',\n      IS_PURE_SYMBOL = Symbol.for('pure'),\n      PARENT_KEY_SYMBOL = Symbol('parent'),\n      ATTRIBUTES_KEY_SYMBOL = Symbol('attributes'),\n      TEMPLATE_KEY_SYMBOL = Symbol('template');\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP,\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY,\n  PLUGINS_SET: PLUGINS_SET,\n  IS_DIRECTIVE: IS_DIRECTIVE,\n  VALUE_ATTRIBUTE: VALUE_ATTRIBUTE,\n  MOUNT_METHOD_KEY: MOUNT_METHOD_KEY,\n  UPDATE_METHOD_KEY: UPDATE_METHOD_KEY,\n  UNMOUNT_METHOD_KEY: UNMOUNT_METHOD_KEY,\n  SHOULD_UPDATE_KEY: SHOULD_UPDATE_KEY,\n  ON_BEFORE_MOUNT_KEY: ON_BEFORE_MOUNT_KEY,\n  ON_MOUNTED_KEY: ON_MOUNTED_KEY,\n  ON_BEFORE_UPDATE_KEY: ON_BEFORE_UPDATE_KEY,\n  ON_UPDATED_KEY: ON_UPDATED_KEY,\n  ON_BEFORE_UNMOUNT_KEY: ON_BEFORE_UNMOUNT_KEY,\n  ON_UNMOUNTED_KEY: ON_UNMOUNTED_KEY,\n  PROPS_KEY: PROPS_KEY,\n  STATE_KEY: STATE_KEY,\n  SLOTS_KEY: SLOTS_KEY,\n  ROOT_KEY: ROOT_KEY,\n  IS_PURE_SYMBOL: IS_PURE_SYMBOL,\n  PARENT_KEY_SYMBOL: PARENT_KEY_SYMBOL,\n  ATTRIBUTES_KEY_SYMBOL: ATTRIBUTES_KEY_SYMBOL,\n  TEMPLATE_KEY_SYMBOL: TEMPLATE_KEY_SYMBOL\n});\n\nfunction extendParentScope(attributes, scope, parentScope) {\n  if (!attributes || !attributes.length) return parentScope;\n  const expressions = attributes.map(attr => Object.assign({}, attr, {\n    value: attr.evaluate(scope)\n  }));\n  return Object.assign(Object.create(parentScope || null), evaluateAttributeExpressions(expressions));\n} // this function is only meant to fix an edge case\n// https://github.com/riot/riot/issues/2842\n\n\nconst getRealParent = (scope, parentScope) => parentScope ? parentScope === scope ? scope[PARENT_KEY_SYMBOL] : parentScope : undefined;\n\nconst SlotBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // name: null,\n  attributes: [],\n\n  // template: null,\n  getTemplateScope(scope, parentScope) {\n    return extendParentScope(this.attributes, scope, parentScope);\n  },\n\n  // API methods\n  mount(scope, parentScope) {\n    const templateData = scope.slots ? scope.slots.find((_ref) => {\n      let {\n        id\n      } = _ref;\n      return id === this.name;\n    }) : false;\n    const {\n      parentNode\n    } = this.node;\n    const realParent = getRealParent(scope, parentScope);\n    this.template = templateData && create$6(templateData.html, templateData.bindings).createDOM(parentNode);\n\n    if (this.template) {\n      this.template.mount(this.node, this.getTemplateScope(scope, realParent), realParent);\n      this.template.children = moveSlotInnerContent(this.node);\n    }\n\n    removeNode(this.node);\n    return this;\n  },\n\n  update(scope, parentScope) {\n    if (this.template) {\n      const realParent = getRealParent(scope, parentScope);\n      this.template.update(this.getTemplateScope(scope, realParent), realParent);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.template) {\n      this.template.unmount(this.getTemplateScope(scope, parentScope), null, mustRemoveRoot);\n    }\n\n    return this;\n  }\n\n});\n/**\n * Move the inner content of the slots outside of them\n * @param   {HTMLNode} slot - slot node\n * @param   {HTMLElement} children - array to fill with the child nodes detected\n * @returns {HTMLElement[]} list of the node moved\n */\n\nfunction moveSlotInnerContent(slot, children) {\n  if (children === void 0) {\n    children = [];\n  }\n\n  const child = slot.firstChild;\n\n  if (child) {\n    slot.parentNode.insertBefore(child, slot);\n    return [child, ...moveSlotInnerContent(slot)];\n  }\n\n  return children;\n}\n/**\n * Create a single slot binding\n * @param   {HTMLElement} node - slot node\n * @param   {string} options.name - slot id\n * @returns {Object} Slot binding object\n */\n\n\nfunction createSlot(node, _ref2) {\n  let {\n    name,\n    attributes\n  } = _ref2;\n  return Object.assign({}, SlotBinding, {\n    attributes,\n    node,\n    name\n  });\n}\n\n/**\n * Create a new tag object if it was registered before, otherwise fallback to the simple\n * template chunk\n * @param   {Function} component - component factory function\n * @param   {Array<Object>} slots - array containing the slots markup\n * @param   {Array} attributes - dynamic attributes that will be received by the tag element\n * @returns {TagImplementation|TemplateChunk} a tag implementation or a template chunk as fallback\n */\n\nfunction getTag(component, slots, attributes) {\n  if (slots === void 0) {\n    slots = [];\n  }\n\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  // if this tag was registered before we will return its implementation\n  if (component) {\n    return component({\n      slots,\n      attributes\n    });\n  } // otherwise we return a template chunk\n\n\n  return create$6(slotsToMarkup(slots), [...slotBindings(slots), {\n    // the attributes should be registered as binding\n    // if we fallback to a normal template chunk\n    expressions: attributes.map(attr => {\n      return Object.assign({\n        type: ATTRIBUTE\n      }, attr);\n    })\n  }]);\n}\n/**\n * Merge all the slots bindings into a single array\n * @param   {Array<Object>} slots - slots collection\n * @returns {Array<Bindings>} flatten bindings array\n */\n\n\nfunction slotBindings(slots) {\n  return slots.reduce((acc, _ref) => {\n    let {\n      bindings\n    } = _ref;\n    return acc.concat(bindings);\n  }, []);\n}\n/**\n * Merge all the slots together in a single markup string\n * @param   {Array<Object>} slots - slots collection\n * @returns {string} markup of all the slots in a single string\n */\n\n\nfunction slotsToMarkup(slots) {\n  return slots.reduce((acc, slot) => {\n    return acc + slot.html;\n  }, '');\n}\n\nconst TagBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // name: null,\n  // slots: null,\n  // tag: null,\n  // attributes: null,\n  // getComponent: null,\n  mount(scope) {\n    return this.update(scope);\n  },\n\n  update(scope, parentScope) {\n    const name = this.evaluate(scope); // simple update\n\n    if (name === this.name) {\n      this.tag.update(scope);\n    } else {\n      // unmount the old tag if it exists\n      this.unmount(scope, parentScope, true); // mount the new tag\n\n      this.name = name;\n      this.tag = getTag(this.getComponent(name), this.slots, this.attributes);\n      this.tag.mount(this.node, scope);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, keepRootTag) {\n    if (this.tag) {\n      // keep the root tag\n      this.tag.unmount(keepRootTag);\n    }\n\n    return this;\n  }\n\n});\nfunction create$4(node, _ref2) {\n  let {\n    evaluate,\n    getComponent,\n    slots,\n    attributes\n  } = _ref2;\n  return Object.assign({}, TagBinding, {\n    node,\n    evaluate,\n    slots,\n    attributes,\n    getComponent\n  });\n}\n\nvar bindings = {\n  [IF]: create$1,\n  [SIMPLE]: create$3,\n  [EACH]: create,\n  [TAG]: create$4,\n  [SLOT]: createSlot\n};\n\n/**\n * Text expressions in a template tag will get childNodeIndex value normalized\n * depending on the position of the <template> tag offset\n * @param   {Expression[]} expressions - riot expressions array\n * @param   {number} textExpressionsOffset - offset of the <template> tag\n * @returns {Expression[]} expressions containing the text expressions normalized\n */\n\nfunction fixTextExpressionsOffset(expressions, textExpressionsOffset) {\n  return expressions.map(e => e.type === TEXT ? Object.assign({}, e, {\n    childNodeIndex: e.childNodeIndex + textExpressionsOffset\n  }) : e);\n}\n/**\n * Bind a new expression object to a DOM node\n * @param   {HTMLElement} root - DOM node where to bind the expression\n * @param   {Object} binding - binding data\n * @param   {number|null} templateTagOffset - if it's defined we need to fix the text expressions childNodeIndex offset\n * @returns {Binding} Binding object\n */\n\n\nfunction create$5(root, binding, templateTagOffset) {\n  const {\n    selector,\n    type,\n    redundantAttribute,\n    expressions\n  } = binding; // find the node to apply the bindings\n\n  const node = selector ? root.querySelector(selector) : root; // remove eventually additional attributes created only to select this node\n\n  if (redundantAttribute) node.removeAttribute(redundantAttribute);\n  const bindingExpressions = expressions || []; // init the binding\n\n  return (bindings[type] || bindings[SIMPLE])(node, Object.assign({}, binding, {\n    expressions: templateTagOffset && !selector ? fixTextExpressionsOffset(bindingExpressions, templateTagOffset) : bindingExpressions\n  }));\n}\n\nfunction createHTMLTree(html, root) {\n  const template = isTemplate(root) ? root : document.createElement('template');\n  template.innerHTML = html;\n  return template.content;\n} // for svg nodes we need a bit more work\n\n\nfunction createSVGTree(html, container) {\n  // create the SVGNode\n  const svgNode = container.ownerDocument.importNode(new window.DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\">${html}</svg>`, 'application/xml').documentElement, true);\n  return svgNode;\n}\n/**\n * Create the DOM that will be injected\n * @param {Object} root - DOM node to find out the context where the fragment will be created\n * @param   {string} html - DOM to create as string\n * @returns {HTMLDocumentFragment|HTMLElement} a new html fragment\n */\n\n\nfunction createDOMTree(root, html) {\n  if (isSvg(root)) return createSVGTree(html, root);\n  return createHTMLTree(html, root);\n}\n\n/**\n * Inject the DOM tree into a target node\n * @param   {HTMLElement} el - target element\n * @param   {HTMLFragment|SVGElement} dom - dom tree to inject\n * @returns {undefined}\n */\n\nfunction injectDOM(el, dom) {\n  switch (true) {\n    case isSvg(el):\n      moveChildren(dom, el);\n      break;\n\n    case isTemplate(el):\n      el.parentNode.replaceChild(dom, el);\n      break;\n\n    default:\n      el.appendChild(dom);\n  }\n}\n\n/**\n * Create the Template DOM skeleton\n * @param   {HTMLElement} el - root node where the DOM will be injected\n * @param   {string} html - markup that will be injected into the root node\n * @returns {HTMLFragment} fragment that will be injected into the root node\n */\n\nfunction createTemplateDOM(el, html) {\n  return html && (typeof html === 'string' ? createDOMTree(el, html) : html);\n}\n/**\n * Template Chunk model\n * @type {Object}\n */\n\n\nconst TemplateChunk = Object.freeze({\n  // Static props\n  // bindings: null,\n  // bindingsData: null,\n  // html: null,\n  // isTemplateTag: false,\n  // fragment: null,\n  // children: null,\n  // dom: null,\n  // el: null,\n\n  /**\n   * Create the template DOM structure that will be cloned on each mount\n   * @param   {HTMLElement} el - the root node\n   * @returns {TemplateChunk} self\n   */\n  createDOM(el) {\n    // make sure that the DOM gets created before cloning the template\n    this.dom = this.dom || createTemplateDOM(el, this.html);\n    return this;\n  },\n\n  // API methods\n\n  /**\n   * Attach the template to a DOM node\n   * @param   {HTMLElement} el - target DOM node\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {Object} meta - meta properties needed to handle the <template> tags in loops\n   * @returns {TemplateChunk} self\n   */\n  mount(el, scope, parentScope, meta) {\n    if (meta === void 0) {\n      meta = {};\n    }\n\n    if (!el) throw new Error('Please provide DOM node to mount properly your template');\n    if (this.el) this.unmount(scope); // <template> tags require a bit more work\n    // the template fragment might be already created via meta outside of this call\n\n    const {\n      fragment,\n      children,\n      avoidDOMInjection\n    } = meta; // <template> bindings of course can not have a root element\n    // so we check the parent node to set the query selector bindings\n\n    const {\n      parentNode\n    } = children ? children[0] : el;\n    const isTemplateTag = isTemplate(el);\n    const templateTagOffset = isTemplateTag ? Math.max(Array.from(parentNode.childNodes).indexOf(el), 0) : null;\n    this.isTemplateTag = isTemplateTag; // create the DOM if it wasn't created before\n\n    this.createDOM(el);\n\n    if (this.dom) {\n      // create the new template dom fragment if it want already passed in via meta\n      this.fragment = fragment || this.dom.cloneNode(true);\n    } // store root node\n    // notice that for template tags the root note will be the parent tag\n\n\n    this.el = this.isTemplateTag ? parentNode : el; // create the children array only for the <template> fragments\n\n    this.children = this.isTemplateTag ? children || Array.from(this.fragment.childNodes) : null; // inject the DOM into the el only if a fragment is available\n\n    if (!avoidDOMInjection && this.fragment) injectDOM(el, this.fragment); // create the bindings\n\n    this.bindings = this.bindingsData.map(binding => create$5(this.el, binding, templateTagOffset));\n    this.bindings.forEach(b => b.mount(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Update the template with fresh data\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @returns {TemplateChunk} self\n   */\n  update(scope, parentScope) {\n    this.bindings.forEach(b => b.update(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Remove the template from the node where it was initially mounted\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {boolean|null} mustRemoveRoot - if true remove the root element,\n   * if false or undefined clean the root tag content, if null don't touch the DOM\n   * @returns {TemplateChunk} self\n   */\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.el) {\n      this.bindings.forEach(b => b.unmount(scope, parentScope, mustRemoveRoot));\n\n      switch (true) {\n        // <template> tags should be treated a bit differently\n        // we need to clear their children only if it's explicitly required by the caller\n        // via mustRemoveRoot !== null\n        case this.children && mustRemoveRoot !== null:\n          clearChildren(this.children);\n          break;\n        // remove the root node only if the mustRemoveRoot === true\n\n        case mustRemoveRoot === true:\n          removeNode(this.el);\n          break;\n        // otherwise we clean the node children\n\n        case mustRemoveRoot !== null:\n          cleanNode(this.el);\n          break;\n      }\n\n      this.el = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Clone the template chunk\n   * @returns {TemplateChunk} a clone of this object resetting the this.el property\n   */\n  clone() {\n    return Object.assign({}, this, {\n      el: null\n    });\n  }\n\n});\n/**\n * Create a template chunk wiring also the bindings\n * @param   {string|HTMLElement} html - template string\n * @param   {Array} bindings - bindings collection\n * @returns {TemplateChunk} a new TemplateChunk copy\n */\n\nfunction create$6(html, bindings) {\n  if (bindings === void 0) {\n    bindings = [];\n  }\n\n  return Object.assign({}, TemplateChunk, {\n    html,\n    bindingsData: bindings\n  });\n}\n\n/**\n * Method used to bind expressions to a DOM node\n * @param   {string|HTMLElement} html - your static template html structure\n * @param   {Array} bindings - list of the expressions to bind to update the markup\n * @returns {TemplateChunk} a new TemplateChunk object having the `update`,`mount`, `unmount` and `clone` methods\n *\n * @example\n *\n * riotDOMBindings\n *  .template(\n *   `<div expr0><!----></div><div><p expr1><!----><section expr2></section></p>`,\n *   [\n *     {\n *       selector: '[expr0]',\n *       redundantAttribute: 'expr0',\n *       expressions: [\n *         {\n *           type: expressionTypes.TEXT,\n *           childNodeIndex: 0,\n *           evaluate(scope) {\n *             return scope.time;\n *           },\n *         },\n *       ],\n *     },\n *     {\n *       selector: '[expr1]',\n *       redundantAttribute: 'expr1',\n *       expressions: [\n *         {\n *           type: expressionTypes.TEXT,\n *           childNodeIndex: 0,\n *           evaluate(scope) {\n *             return scope.name;\n *           },\n *         },\n *         {\n *           type: 'attribute',\n *           name: 'style',\n *           evaluate(scope) {\n *             return scope.style;\n *           },\n *         },\n *       ],\n *     },\n *     {\n *       selector: '[expr2]',\n *       redundantAttribute: 'expr2',\n *       type: bindingTypes.IF,\n *       evaluate(scope) {\n *         return scope.isVisible;\n *       },\n *       template: riotDOMBindings.template('hello there'),\n *     },\n *   ]\n * )\n */\n\nvar DOMBindings = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  template: create$6,\n  createBinding: create$5,\n  createExpression: create$2,\n  bindingTypes: bindingTypes,\n  expressionTypes: expressionTypes\n});\n\nfunction noop() {\n  return this;\n}\n/**\n * Autobind the methods of a source object to itself\n * @param   {Object} source - probably a riot tag instance\n * @param   {Array<string>} methods - list of the methods to autobind\n * @returns {Object} the original object received\n */\n\nfunction autobindMethods(source, methods) {\n  methods.forEach(method => {\n    source[method] = source[method].bind(source);\n  });\n  return source;\n}\n/**\n * Call the first argument received only if it's a function otherwise return it as it is\n * @param   {*} source - anything\n * @returns {*} anything\n */\n\nfunction callOrAssign(source) {\n  return isFunction(source) ? source.prototype && source.prototype.constructor ? new source() : source() : source;\n}\n\n/**\n * Helper function to set an immutable property\n * @param   {Object} source - object where the new property will be set\n * @param   {string} key - object key where the new property will be stored\n * @param   {*} value - value of the new property\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} - the original object modified\n */\nfunction defineProperty(source, key, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  /* eslint-disable fp/no-mutating-methods */\n  Object.defineProperty(source, key, Object.assign({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  /* eslint-enable fp/no-mutating-methods */\n\n  return source;\n}\n/**\n * Define multiple properties on a target object\n * @param   {Object} source - object where the new properties will be set\n * @param   {Object} properties - object containing as key pair the key + value properties\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} the original object modified\n */\n\nfunction defineProperties(source, properties, options) {\n  Object.entries(properties).forEach((_ref) => {\n    let [key, value] = _ref;\n    defineProperty(source, key, value, options);\n  });\n  return source;\n}\n/**\n * Define default properties if they don't exist on the source object\n * @param   {Object} source - object that will receive the default properties\n * @param   {Object} defaults - object containing additional optional keys\n * @returns {Object} the original object received enhanced\n */\n\nfunction defineDefaults(source, defaults) {\n  Object.entries(defaults).forEach((_ref2) => {\n    let [key, value] = _ref2;\n    if (!source[key]) source[key] = value;\n  });\n  return source;\n}\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(els)) && typeof els.length === 'number') return Array.from(els);else // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els];\n  } // this object could be looped out of the box\n\n\n  return els;\n}\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        ctx      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\n\nfunction $(selector, ctx) {\n  return domToArray(typeof selector === 'string' ? (ctx || document).querySelectorAll(selector) : selector);\n}\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\n\nconst normalize = values => values.length === 1 ? values[0] : values;\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\n\n\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)));\n  }));\n}\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Object }              name  - either the name of the attribute to set\n *                                                 or a list of properties as object key - value\n * @param   { string }                     value - the new value of the attribute (optional)\n * @returns { HTMLElement|NodeList|Array } the original array of elements passed to this function\n *\n * @example\n *\n * import { set } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * set(img, 'width', 100)\n *\n * // or also\n * set(img, {\n *   width: 300,\n *   height: 300\n * })\n *\n */\n\n\nfunction set(els, name, value) {\n  const attrs = typeof name === 'object' ? name : {\n    [name]: value\n  };\n  const props = Object.keys(attrs);\n  domToArray(els).forEach(el => {\n    props.forEach(prop => el.setAttribute(prop, attrs[prop]));\n  });\n  return els;\n}\n/**\n * Get any attribute from a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to get\n * @returns { Array|string } list of the attributes found\n *\n * @example\n *\n * import { get } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * get(img, 'width') // => '200'\n *\n * // or also\n * get(img, ['width', 'height']) // => ['200', '300']\n *\n * // or also\n * get([img1, img2], ['width', 'height']) // => [['200', '300'], ['500', '200']]\n */\n\nfunction get(els, name) {\n  return parseNodes(els, name, 'getAttribute');\n}\n\nconst CSS_BY_NAME = new Map();\nconst STYLE_NODE_SELECTOR = 'style[riot]'; // memoized curried function\n\nconst getStyleNode = (style => {\n  return () => {\n    // lazy evaluation:\n    // if this function was already called before\n    // we return its cached result\n    if (style) return style; // create a new style element or use an existing one\n    // and cache it internally\n\n    style = $(STYLE_NODE_SELECTOR)[0] || document.createElement('style');\n    set(style, 'type', 'text/css');\n    /* istanbul ignore next */\n\n    if (!style.parentNode) document.head.appendChild(style);\n    return style;\n  };\n})();\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\n\n\nvar cssManager = {\n  CSS_BY_NAME,\n\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { string } name - if it's passed we will map the css to a tagname\n   * @param { string } css - css string\n   * @returns {Object} self\n   */\n  add(name, css) {\n    if (!CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.set(name, css);\n      this.inject();\n    }\n\n    return this;\n  },\n\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   * @returns {Object} self\n   */\n  inject() {\n    getStyleNode().innerHTML = [...CSS_BY_NAME.values()].join('\\n');\n    return this;\n  },\n\n  /**\n   * Remove a tag style from the DOM\n   * @param {string} name a registered tagname\n   * @returns {Object} self\n   */\n  remove(name) {\n    if (CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.delete(name);\n      this.inject();\n    }\n\n    return this;\n  }\n\n};\n\n/**\n * Function to curry any javascript method\n * @param   {Function}  fn - the target function we want to curry\n * @param   {...[args]} acc - initial arguments\n * @returns {Function|*} it will return a function until the target function\n *                       will receive all of its arguments\n */\nfunction curry(fn) {\n  for (var _len = arguments.length, acc = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    acc[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args = [...acc, ...args];\n    return args.length < fn.length ? curry(fn, ...args) : fn(...args);\n  };\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   {HTMLElement} element - DOM node we want to inspect\n * @returns {string} name to identify this dom node in riot\n */\n\nfunction getName(element) {\n  return get(element, IS_DIRECTIVE) || element.tagName.toLowerCase();\n}\n\nconst COMPONENT_CORE_HELPERS = Object.freeze({\n  // component helpers\n  $(selector) {\n    return $(selector, this.root)[0];\n  },\n\n  $$(selector) {\n    return $(selector, this.root);\n  }\n\n});\nconst PURE_COMPONENT_API = Object.freeze({\n  [MOUNT_METHOD_KEY]: noop,\n  [UPDATE_METHOD_KEY]: noop,\n  [UNMOUNT_METHOD_KEY]: noop\n});\nconst COMPONENT_LIFECYCLE_METHODS = Object.freeze({\n  [SHOULD_UPDATE_KEY]: noop,\n  [ON_BEFORE_MOUNT_KEY]: noop,\n  [ON_MOUNTED_KEY]: noop,\n  [ON_BEFORE_UPDATE_KEY]: noop,\n  [ON_UPDATED_KEY]: noop,\n  [ON_BEFORE_UNMOUNT_KEY]: noop,\n  [ON_UNMOUNTED_KEY]: noop\n});\nconst MOCKED_TEMPLATE_INTERFACE = Object.assign({}, PURE_COMPONENT_API, {\n  clone: noop,\n  createDOM: noop\n});\n/**\n * Evaluate the component properties either from its real attributes or from its initial user properties\n * @param   {HTMLElement} element - component root\n * @param   {Object}  initialProps - initial props\n * @returns {Object} component props key value pairs\n */\n\nfunction evaluateInitialProps(element, initialProps) {\n  if (initialProps === void 0) {\n    initialProps = {};\n  }\n\n  return Object.assign({}, DOMattributesToObject(element), callOrAssign(initialProps));\n}\n/**\n * Bind a DOM node to its component object\n * @param   {HTMLElement} node - html node mounted\n * @param   {Object} component - Riot.js component object\n * @returns {Object} the component object received as second argument\n */\n\n\nconst bindDOMNodeToComponentObject = (node, component) => node[DOM_COMPONENT_INSTANCE_PROPERTY] = component;\n/**\n * Wrap the Riot.js core API methods using a mapping function\n * @param   {Function} mapFunction - lifting function\n * @returns {Object} an object having the { mount, update, unmount } functions\n */\n\n\nfunction createCoreAPIMethods(mapFunction) {\n  return [MOUNT_METHOD_KEY, UPDATE_METHOD_KEY, UNMOUNT_METHOD_KEY].reduce((acc, method) => {\n    acc[method] = mapFunction(method);\n    return acc;\n  }, {});\n}\n/**\n * Factory function to create the component templates only once\n * @param   {Function} template - component template creation function\n * @param   {Object} components - object containing the nested components\n * @returns {TemplateChunk} template chunk object\n */\n\n\nfunction componentTemplateFactory(template, components) {\n  return template(create$6, expressionTypes, bindingTypes, name => {\n    return components[name] || COMPONENTS_IMPLEMENTATION_MAP.get(name);\n  });\n}\n/**\n * Create a pure component\n * @param   {Function} pureFactoryFunction - pure component factory function\n * @param   {Array} options.slots - component slots\n * @param   {Array} options.attributes - component attributes\n * @param   {Array} options.template - template factory function\n * @param   {Array} options.template - template factory function\n * @param   {any} options.props - initial component properties\n * @returns {Object} pure component object\n */\n\n\nfunction createPureComponent(pureFactoryFunction, _ref) {\n  let {\n    slots,\n    attributes,\n    props,\n    css,\n    template\n  } = _ref;\n  if (template) panic('Pure components can not have html');\n  if (css) panic('Pure components do not have css');\n  const component = defineDefaults(pureFactoryFunction({\n    slots,\n    attributes,\n    props\n  }), PURE_COMPONENT_API);\n  return createCoreAPIMethods(method => function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // intercept the mount calls to bind the DOM node to the pure object created\n    // see also https://github.com/riot/riot/issues/2806\n    if (method === MOUNT_METHOD_KEY) {\n      const [el] = args;\n      bindDOMNodeToComponentObject(el, component);\n    }\n\n    component[method](...args);\n    return component;\n  });\n}\n/**\n * Create the component interface needed for the @riotjs/dom-bindings tag bindings\n * @param   {string} options.css - component css\n * @param   {Function} options.template - functon that will return the dom-bindings template function\n * @param   {Object} options.exports - component interface\n * @param   {string} options.name - component name\n * @returns {Object} component like interface\n */\n\n\nfunction createComponent(_ref2) {\n  let {\n    css,\n    template,\n    exports,\n    name\n  } = _ref2;\n  const templateFn = template ? componentTemplateFactory(template, exports ? createSubcomponents(exports.components) : {}) : MOCKED_TEMPLATE_INTERFACE;\n  return (_ref3) => {\n    let {\n      slots,\n      attributes,\n      props\n    } = _ref3;\n    // pure components rendering will be managed by the end user\n    if (exports && exports[IS_PURE_SYMBOL]) return createPureComponent(exports, {\n      slots,\n      attributes,\n      props,\n      css,\n      template\n    });\n    const componentAPI = callOrAssign(exports) || {};\n    const component = defineComponent({\n      css,\n      template: templateFn,\n      componentAPI,\n      name\n    })({\n      slots,\n      attributes,\n      props\n    }); // notice that for the components create via tag binding\n    // we need to invert the mount (state/parentScope) arguments\n    // the template bindings will only forward the parentScope updates\n    // and never deal with the component state\n\n    return {\n      mount(element, parentScope, state) {\n        return component.mount(element, state, parentScope);\n      },\n\n      update(parentScope, state) {\n        return component.update(state, parentScope);\n      },\n\n      unmount(preserveRoot) {\n        return component.unmount(preserveRoot);\n      }\n\n    };\n  };\n}\n/**\n * Component definition function\n * @param   {Object} implementation - the componen implementation will be generated via compiler\n * @param   {Object} component - the component initial properties\n * @returns {Object} a new component implementation object\n */\n\nfunction defineComponent(_ref4) {\n  let {\n    css,\n    template,\n    componentAPI,\n    name\n  } = _ref4;\n  // add the component css into the DOM\n  if (css && name) cssManager.add(name, css);\n  return curry(enhanceComponentAPI)(defineProperties( // set the component defaults without overriding the original component API\n  defineDefaults(componentAPI, Object.assign({}, COMPONENT_LIFECYCLE_METHODS, {\n    [STATE_KEY]: {}\n  })), Object.assign({\n    // defined during the component creation\n    [SLOTS_KEY]: null,\n    [ROOT_KEY]: null\n  }, COMPONENT_CORE_HELPERS, {\n    name,\n    css,\n    template\n  })));\n}\n/**\n * Create the bindings to update the component attributes\n * @param   {HTMLElement} node - node where we will bind the expressions\n * @param   {Array} attributes - list of attribute bindings\n * @returns {TemplateChunk} - template bindings object\n */\n\nfunction createAttributeBindings(node, attributes) {\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  const expressions = attributes.map(a => create$2(node, a));\n  const binding = {};\n  return Object.assign(binding, Object.assign({\n    expressions\n  }, createCoreAPIMethods(method => scope => {\n    expressions.forEach(e => e[method](scope));\n    return binding;\n  })));\n}\n/**\n * Create the subcomponents that can be included inside a tag in runtime\n * @param   {Object} components - components imported in runtime\n * @returns {Object} all the components transformed into Riot.Component factory functions\n */\n\n\nfunction createSubcomponents(components) {\n  if (components === void 0) {\n    components = {};\n  }\n\n  return Object.entries(callOrAssign(components)).reduce((acc, _ref5) => {\n    let [key, value] = _ref5;\n    acc[camelToDashCase(key)] = createComponent(value);\n    return acc;\n  }, {});\n}\n/**\n * Run the component instance through all the plugins set by the user\n * @param   {Object} component - component instance\n * @returns {Object} the component enhanced by the plugins\n */\n\n\nfunction runPlugins(component) {\n  return [...PLUGINS_SET].reduce((c, fn) => fn(c) || c, component);\n}\n/**\n * Compute the component current state merging it with its previous state\n * @param   {Object} oldState - previous state object\n * @param   {Object} newState - new state givent to the `update` call\n * @returns {Object} new object state\n */\n\n\nfunction computeState(oldState, newState) {\n  return Object.assign({}, oldState, callOrAssign(newState));\n}\n/**\n * Add eventually the \"is\" attribute to link this DOM node to its css\n * @param {HTMLElement} element - target root node\n * @param {string} name - name of the component mounted\n * @returns {undefined} it's a void function\n */\n\n\nfunction addCssHook(element, name) {\n  if (getName(element) !== name) {\n    set(element, IS_DIRECTIVE, name);\n  }\n}\n/**\n * Component creation factory function that will enhance the user provided API\n * @param   {Object} component - a component implementation previously defined\n * @param   {Array} options.slots - component slots generated via riot compiler\n * @param   {Array} options.attributes - attribute expressions generated via riot compiler\n * @returns {Riot.Component} a riot component instance\n */\n\n\nfunction enhanceComponentAPI(component, _ref6) {\n  let {\n    slots,\n    attributes,\n    props\n  } = _ref6;\n  return autobindMethods(runPlugins(defineProperties(Object.create(component), {\n    mount(element, state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      this[ATTRIBUTES_KEY_SYMBOL] = createAttributeBindings(element, attributes).mount(parentScope);\n      defineProperty(this, PROPS_KEY, Object.freeze(Object.assign({}, evaluateInitialProps(element, props), evaluateAttributeExpressions(this[ATTRIBUTES_KEY_SYMBOL].expressions))));\n      this[STATE_KEY] = computeState(this[STATE_KEY], state);\n      this[TEMPLATE_KEY_SYMBOL] = this.template.createDOM(element).clone(); // link this object to the DOM node\n\n      bindDOMNodeToComponentObject(element, this); // add eventually the 'is' attribute\n\n      component.name && addCssHook(element, component.name); // define the root element\n\n      defineProperty(this, ROOT_KEY, element); // define the slots array\n\n      defineProperty(this, SLOTS_KEY, slots); // before mount lifecycle event\n\n      this[ON_BEFORE_MOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[PARENT_KEY_SYMBOL] = parentScope; // mount the template\n\n      this[TEMPLATE_KEY_SYMBOL].mount(element, this, parentScope);\n      this[ON_MOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    },\n\n    update(state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      if (parentScope) {\n        this[PARENT_KEY_SYMBOL] = parentScope;\n        this[ATTRIBUTES_KEY_SYMBOL].update(parentScope);\n      }\n\n      const newProps = evaluateAttributeExpressions(this[ATTRIBUTES_KEY_SYMBOL].expressions);\n      if (this[SHOULD_UPDATE_KEY](newProps, this[PROPS_KEY]) === false) return;\n      defineProperty(this, PROPS_KEY, Object.freeze(Object.assign({}, this[PROPS_KEY], newProps)));\n      this[STATE_KEY] = computeState(this[STATE_KEY], state);\n      this[ON_BEFORE_UPDATE_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[TEMPLATE_KEY_SYMBOL].update(this, this[PARENT_KEY_SYMBOL]);\n      this[ON_UPDATED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    },\n\n    unmount(preserveRoot) {\n      this[ON_BEFORE_UNMOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[ATTRIBUTES_KEY_SYMBOL].unmount(); // if the preserveRoot is null the template html will be left untouched\n      // in that case the DOM cleanup will happen differently from a parent node\n\n      this[TEMPLATE_KEY_SYMBOL].unmount(this, this[PARENT_KEY_SYMBOL], preserveRoot === null ? null : !preserveRoot);\n      this[ON_UNMOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    }\n\n  })), Object.keys(component).filter(prop => isFunction(component[prop])));\n}\n/**\n * Component initialization function starting from a DOM node\n * @param   {HTMLElement} element - element to upgrade\n * @param   {Object} initialProps - initial component properties\n * @param   {string} componentName - component id\n * @returns {Object} a new component instance bound to a DOM node\n */\n\nfunction mountComponent(element, initialProps, componentName) {\n  const name = componentName || getName(element);\n  if (!COMPONENTS_IMPLEMENTATION_MAP.has(name)) panic(`The component named \"${name}\" was never registered`);\n  const component = COMPONENTS_IMPLEMENTATION_MAP.get(name)({\n    props: initialProps\n  });\n  return component.mount(element);\n}\n\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\nfunction compose() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return fns.reduce((f, g) => function () {\n    return f(g(...arguments));\n  });\n}\n\nconst {\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY$1,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP$1,\n  PLUGINS_SET: PLUGINS_SET$1\n} = globals;\n/**\n * Riot public api\n */\n\n/**\n * Register a custom tag by name\n * @param   {string} name - component name\n * @param   {Object} implementation - tag implementation\n * @returns {Map} map containing all the components implementations\n */\n\nfunction register(name, _ref) {\n  let {\n    css,\n    template,\n    exports\n  } = _ref;\n  if (COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was already registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.set(name, createComponent({\n    name,\n    css,\n    template,\n    exports\n  }));\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Unregister a riot web component\n * @param   {string} name - component name\n * @returns {Map} map containing all the components implementations\n */\n\nfunction unregister(name) {\n  if (!COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was never registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.delete(name);\n  cssManager.remove(name);\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Mounting function that will work only for the components that were globally registered\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {Object} initialProps - the initial component properties\n * @param   {string} name - optional component name\n * @returns {Array} list of nodes upgraded\n */\n\nfunction mount(selector, initialProps, name) {\n  return $(selector).map(element => mountComponent(element, initialProps, name));\n}\n/**\n * Sweet unmounting helper function for the DOM node mounted manually by the user\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {boolean|null} keepRootElement - if true keep the root element\n * @returns {Array} list of nodes unmounted\n */\n\nfunction unmount(selector, keepRootElement) {\n  return $(selector).map(element => {\n    if (element[DOM_COMPONENT_INSTANCE_PROPERTY$1]) {\n      element[DOM_COMPONENT_INSTANCE_PROPERTY$1].unmount(keepRootElement);\n    }\n\n    return element;\n  });\n}\n/**\n * Define a riot plugin\n * @param   {Function} plugin - function that will receive all the components created\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction install(plugin) {\n  if (!isFunction(plugin)) panic('Plugins must be of type function');\n  if (PLUGINS_SET$1.has(plugin)) panic('This plugin was already installed');\n  PLUGINS_SET$1.add(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Uninstall a riot plugin\n * @param   {Function} plugin - plugin previously installed\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction uninstall(plugin) {\n  if (!PLUGINS_SET$1.has(plugin)) panic('This plugin was never installed');\n  PLUGINS_SET$1.delete(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Helper method to create component without relying on the registered ones\n * @param   {Object} implementation - component implementation\n * @returns {Function} function that will allow you to mount a riot component on a DOM node\n */\n\nfunction component(implementation) {\n  return function (el, props, _temp) {\n    let {\n      slots,\n      attributes,\n      parentScope\n    } = _temp === void 0 ? {} : _temp;\n    return compose(c => c.mount(el, parentScope), c => c({\n      props,\n      slots,\n      attributes\n    }), createComponent)(implementation);\n  };\n}\n/**\n * Lift a riot component Interface into a pure riot object\n * @param   {Function} func - RiotPureComponent factory function\n * @returns {Function} the lifted original function received as argument\n */\n\nfunction pure(func) {\n  if (!isFunction(func)) panic('riot.pure accepts only arguments of type \"function\"');\n  func[IS_PURE_SYMBOL] = true;\n  return func;\n}\n/** @type {string} current riot version */\n\nconst version = 'v4.13.5'; // expose some internal stuff that might be used from external tools\n\nconst __ = {\n  cssManager,\n  DOMBindings,\n  createComponent,\n  defineComponent,\n  globals\n};\n\nexport { __, component, install, mount, pure, register, uninstall, unmount, unregister, version };\n","/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nexport default function domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (\n      /^\\[object (HTMLCollection|NodeList|Object)\\]$/\n        .test(Object.prototype.toString.call(els))\n        && typeof els.length === 'number'\n    )\n      return Array.from(els)\n    else\n      // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els]\n  }\n  // this object could be looped out of the box\n  return els\n}","import domToArray from 'bianco.dom-to-array'\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        ctx      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\nexport default function $(selector, ctx) {\n  return domToArray(typeof selector === 'string' ?\n    (ctx || document).querySelectorAll(selector) :\n    selector\n  )\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('riot'), require('bianco.query')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'riot', 'bianco.query'], factory) :\n  (global = global || self, factory(global.riotHotReload = {}, global.riot, global.$));\n}(this, (function (exports, riot, $) { 'use strict';\n\n  $ = $ && Object.prototype.hasOwnProperty.call($, 'default') ? $['default'] : $;\n\n  const { cssManager } = riot.__;\n  const { DOM_COMPONENT_INSTANCE_PROPERTY } = riot.__.globals;\n\n  function reload(componentAPI) {\n    const {name} = componentAPI;\n\n    if (!name) {\n      console.warn('Anonymous components can not be reloaded'); // eslint-disable-line\n      return []\n    }\n\n    return $(`${name}, [is=${name}]`).map(el => {\n      const oldTag = el[DOM_COMPONENT_INSTANCE_PROPERTY];\n\n      // early return in case there is no riot instance found\n      if (!oldTag) return\n\n      // remove the tag template from the DOM\n      oldTag.unmount(true);\n      // delete the old css from the css manager\n      cssManager.remove(name);\n\n      // create the new tag\n      const newTag = riot.component(componentAPI)(el, oldTag.props);\n      newTag.update(oldTag.state);\n\n      return newTag\n    })\n  }\n\n  exports.default = reload;\n  exports.reload = reload;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","/*\n * anime.js v3.2.0\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","import anime from 'animejs'\nconst uid = ((id) => () => id++)(5)\n\nexport default {\n  'css': null,\n\n  'exports': {\n    state: {\n        items: [\n            { name: 'ハガネール', id: 0 },\n            { name: 'ルギア', id: 1 },\n            { name: 'ミュウツー', id: 2 },\n            { name: 'ヘラクロス', id: 3 },\n            { name: 'カビゴン', id: 4 }\n        ]\n    },\n\n    onBeforeMount() {\n\n    },\n\n    onMounted() {\n        anime({\n            targets: 'li',\n            translateX: [200, 0],\n            delay: anime.stagger(100)\n        })\n    },\n\n    reload() {\n        window.location.reload()\n    },\n\n    add() {\n        const { items } = this.state\n        items.push({\n            name: Math.random() > 0.5 ? 'foo' : 'bar',\n            id: uid()\n        })\n        this.update({ items })\n        anime({\n            targets: 'li',\n            translateX: [200, 0],\n            delay: anime.stagger(100)\n        })\n    },\n\n    remove(e) {\n        const { items } = this.state\n        items.splice(e.target.id, 1)\n        anime({\n            targets: e.target.parentNode,\n            translateX: 200,\n            complete: () => this.update({ items })\n        })\n    },\n\n    expand(e) {\n        anime({\n            targets: e.target.parentNode,\n            scale: 2,\n            translateX: 700,\n            complete: (anim) => anim.reset()\n        })\n    },\n\n    expandAll() {\n        anime({\n            targets: 'li',\n            scale: 2,\n            translateX: 700,\n            delay: anime.stagger(100),\n            direction: 'alternate'\n        })\n    }\n  },\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template(\n      '<div class=\"app-header\"><div class=\"header-left\"><img src=\"https://riot.js.org/img/logo/square.svg\" alt=\"Riot.js logo\" class=\"logo\"/></div><div class=\"header-right\"><h1 expr0=\"expr0\"> </h1><ul><li expr1=\"expr1\"></li></ul><button expr4=\"expr4\">reload</button><button expr5=\"expr5\">add</button><button expr6=\"expr6\">expand all</button></div></div>',\n      [{\n        'redundantAttribute': 'expr0',\n        'selector': '[expr0]',\n\n        'expressions': [{\n          'type': expressionTypes.TEXT,\n          'childNodeIndex': 0,\n\n          'evaluate': function(scope) {\n            return scope.props.title;\n          }\n        }]\n      }, {\n        'type': bindingTypes.EACH,\n\n        'getKey': function(scope) {\n          return scope.item.id;\n        },\n\n        'condition': null,\n\n        'template': template(\n          ' <button expr2=\"expr2\">expand</button><button expr3=\"expr3\">remove</button>',\n          [{\n            'expressions': [{\n              'type': expressionTypes.TEXT,\n              'childNodeIndex': 0,\n\n              'evaluate': function(scope) {\n                return [`${scope.item.id}: ${scope.item.name}`].join('');\n              }\n            }]\n          }, {\n            'redundantAttribute': 'expr2',\n            'selector': '[expr2]',\n\n            'expressions': [{\n              'type': expressionTypes.EVENT,\n              'name': 'onclick',\n\n              'evaluate': function(scope) {\n                return scope.expand;\n              }\n            }, {\n              'type': expressionTypes.ATTRIBUTE,\n              'name': 'id',\n\n              'evaluate': function(scope) {\n                return scope.i;\n              }\n            }]\n          }, {\n            'redundantAttribute': 'expr3',\n            'selector': '[expr3]',\n\n            'expressions': [{\n              'type': expressionTypes.EVENT,\n              'name': 'onclick',\n\n              'evaluate': function(scope) {\n                return scope.remove;\n              }\n            }, {\n              'type': expressionTypes.ATTRIBUTE,\n              'name': 'id',\n\n              'evaluate': function(scope) {\n                return scope.i;\n              }\n            }]\n          }]\n        ),\n\n        'redundantAttribute': 'expr1',\n        'selector': '[expr1]',\n        'itemName': 'item',\n        'indexName': 'i',\n\n        'evaluate': function(scope) {\n          return scope.state.items;\n        }\n      }, {\n        'redundantAttribute': 'expr4',\n        'selector': '[expr4]',\n\n        'expressions': [{\n          'type': expressionTypes.EVENT,\n          'name': 'onclick',\n\n          'evaluate': function(scope) {\n            return scope.reload;\n          }\n        }]\n      }, {\n        'redundantAttribute': 'expr5',\n        'selector': '[expr5]',\n\n        'expressions': [{\n          'type': expressionTypes.EVENT,\n          'name': 'onclick',\n\n          'evaluate': function(scope) {\n            return scope.add;\n          }\n        }]\n      }, {\n        'redundantAttribute': 'expr6',\n        'selector': '[expr6]',\n\n        'expressions': [{\n          'type': expressionTypes.EVENT,\n          'name': 'onclick',\n\n          'evaluate': function(scope) {\n            return scope.expandAll;\n          }\n        }]\n      }]\n    );\n  },\n\n  'name': 'app2'\n};","import '@riotjs/hot-reload'\nimport App from './app2.riot'\nimport { component } from 'riot'\n\ncomponent(App)(document.getElementById('app'), {\n    title: 'Riot.js with Anime.js!'\n})"]}